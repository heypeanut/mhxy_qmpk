(function(e){function t(t){for(var r,a,s=t[0],c=t[1],u=t[2],l=0,d=[];l<s.length;l++)a=s[l],i[a]&&d.push(i[a][0]),i[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);p&&p(t);while(d.length)d.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,s=1;s<n.length;s++){var c=n[s];0!==i[c]&&(r=!1)}r&&(o.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},i={app:0},o=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var p=c;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0b0b":function(e,t,n){},"165b":function(e,t,n){},"39c8":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"recommendListAction",function(){return he});var i={};n.r(i),n.d(i,"video",function(){return me}),n.d(i,"videoList",function(){return ge}),n.d(i,"recommendList",function(){return be});n("cadf"),n("551c"),n("f751"),n("097d");var o=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("keep-alive",[n("router-view")],1),n("bottom-bar")],1)},s=[],c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"bottom-bar"},[n("router-link",{staticClass:"tab-item",attrs:{tag:"div",to:"video"}},[n("i",{staticClass:"icon iconfont"},[e._v("")]),n("span",{staticClass:"name tab-link"},[e._v("视频")])]),n("router-link",{staticClass:"tab-item",attrs:{tag:"div",to:"rank"}},[n("i",{staticClass:"icon iconfont"},[e._v("")]),n("span",{staticClass:"name tab-link"},[e._v("排行")])])],1)},u=[],p=(n("7e9d"),n("2877")),l={},d=Object(p["a"])(l,c,u,!1,null,"79b7299c",null),v=d.exports,f={components:{BottomBar:v}},_=f,h=Object(p["a"])(_,a,s,!1,null,null,null),m=h.exports,g=n("8c4f"),b=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"video-wrapper"},[n("div",{staticClass:"header-bg"},[n("search-box",{on:{search:e.search,clear:e.clearInput}})],1),n("ul",{staticClass:"list-wrapper"},e._l(e.videoList,function(t,r){return n("li",{key:t.id,on:{click:function(n){return e.selectItem(t)}}},[n("div",{staticClass:"img-wrapper"},[n("img",{attrs:{src:t.cover,alt:""},on:{error:function(n){return e.imgError(r,t)}}}),n("span",{staticClass:"video-time"},[e._v(e._s(t.videoTime))])]),n("p",{staticClass:"text"},[e._v(e._s(e.winner(t.watching_team,t.winner))+" vs "+e._s(e.winner(t.other_team,t.winner)))]),n("p",{staticClass:"time"},[e._v(e._s(t.match_time))])])}),0),n("router-view")],1)},y=[],w=(n("8e6e"),n("456d"),n("ac6a"),n("bd86")),k=n("f2e8"),O=n.n(k);function j(e,t,n){return e+=(e.indexOf("?")<0?"?":"&")+L(t),new Promise(function(t,r){O()(e,n,function(e,n){e?r(e):t(n)})})}function L(e){var t="";for(var n in e){var r=void 0!==e[n]?e[n]:"";t+="&".concat(n,"=").concat(encodeURIComponent(r))}return t?t.substring(1):""}var C={_:1562655022974},E={callback:"jQuery111308220141366525135_1562655022973"};function x(e){var t="https://comp-sync.webapp.163.com/xyqvideo/sync_paged_list",n=Object.assign({},C,{team:e,page:1,per_page:10,category:5});return j(t,n,E)}n("a481");var I=n("d225"),P=function e(t){var n=t.id,r=t.category,i=t.match_time,o=t.region,a=t.watching_server,s=t.other_server,c=t.watching_team,u=t.other_team,p=t.cover,l=t.video,d=t.winner,v=t.videoTime,f=t.videoId;Object(I["a"])(this,e),this.id=n,this.category=r,this.match_time=i,this.region=o,this.watching_server=a,this.other_server=s,this.watching_team=c,this.other_team=u,this.cover=p,this.video=l,this.winner=d,this.videoTime=v,this.videoId=f},S=function(e){return new P({id:e.id,category:e.category,match_time:e.match_time,region:e.region1||e.region2,watching_server:e.server1,other_server:e.server2,watching_team:e.team1,other_team:e.team2,cover:"http://xyq-video.v.netease.com/screenshot/pk/".concat(e.video,".jpg"),video:"http://xyq-video.v.netease.com/video/pk/".concat(e.video,".mp4"),winner:e.winner,videoTime:T(e.etc_info),videoId:e.video})};function T(e){var t=JSON.parse(e);return(t.videoTime/60).toFixed(2).replace(".",":")}var V=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"search-wrapper"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.query,expression:"query"}],ref:"query",attrs:{type:"text",placeholder:e.placeholder},domProps:{value:e.query},on:{input:function(t){t.target.composing||(e.query=t.target.value)}}}),n("i",{directives:[{name:"show",rawName:"v-show",value:e.query,expression:"query"}],staticClass:"iconfont icon",on:{click:e.clearInput}},[e._v("")])])},q=[];function D(e,t){var n=[];return e.map(function(e){e.id!==t.id&&n.push(e)}),n}function $(e,t){var n;return function(){for(var r=this,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];n&&clearTimeout(n),n=setTimeout(function(){e.apply(r,o)},t)}}var R={props:{placeholder:{type:String,default:"请输入队伍名"}},data:function(){return{query:""}},created:function(){var e=this;this.$watch("query",$(function(t){e.$emit("search",t)},500))},methods:{setQuery:function(e){this.query=e},clearInput:function(){this.query="",this.$emit("clear","")}}},A=R,N=(n("fd7c"),Object(p["a"])(A,V,q,!1,null,"1386c15f",null)),M=N.exports,B=n("2f62");function F(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n}function J(e){for(var t=1;t<arguments.length;t++)if(t%2){var n=null!=arguments[t]?arguments[t]:{};F(n,!0).forEach(function(t){Object(w["a"])(e,t,n[t])})}else Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(arguments[t])):F(n).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(arguments[t],n))});return e}var Q={data:function(){return{videoList:[],team:"些子疏狂"}},computed:J({},Object(B["c"])(["video"])),created:function(){this._getVideoList()},methods:J({selectItem:function(e){this.$router.push({path:"/details"}),this.setVideo(e),this.recommendListAction({list:this.videoList,currentVideo:e})},winner:function(e,t){return e===t?"".concat(e,"(胜)"):e},imgError:function(e,t){var n=this.videoList;n.splice(e,1),this.setVideoList(n),this.recommendListAction({list:this.videoList,currentVideo:t})},search:function(e){this.query=e,this._getVideoList(e)},clearInput:function(){console.log("删除"),this.query=""},_getVideoList:function(e){var t=this;x(e).then(function(e){e.status&&(t.videoList=t._normalVideos(e.data),t.setVideoList(t._normalVideos(e.data)))})},_normalVideos:function(e){var t=[];return e.forEach(function(e){e.etc_info&&e.video&&t.push(S(e))}),t}},Object(B["d"])({setVideo:"SET_VIDEO",setVideoList:"SET_VIDEO_LIST",setRecommendList:"SET_RECOMMEND_VIDEO_LIST"}),{},Object(B["b"])(["recommendListAction"])),components:{SearchBox:M}},U=Q,z=(n("c57b"),Object(p["a"])(U,b,y,!1,null,"6aaa9b1a",null)),G=z.exports,H=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"slide"}},[n("div",{ref:"videoDetails",staticClass:"details-wrapper",on:{click:function(e){e.stopPropagation()}}},[n("div",{staticClass:"video-wrapper"},[n("span",{staticClass:"back",on:{click:function(t){return t.stopPropagation(),e.back(t)}}}),n("video",{attrs:{src:e.video.video,autoplay:"",controls:"","webkit-playsinline":"true",playsinline:"true"}}),n("div",{staticClass:"video-info"},[n("h3",[e._v(e._s(e.winner(e.video.watching_team,e.video.winner))+" VS "+e._s(e.winner(e.video.other_team,e.video.winner)))]),n("p",{staticClass:"text"},[e._v("比赛时间："+e._s(e.video.match_time))])])]),n("div",{staticClass:"recommend",on:{click:function(e){e.stopPropagation()}}},[n("h4",{staticClass:"title"},[e._v("视频推荐")]),n("ul",e._l(e.recommendList,function(t){return n("li",{key:t.id,on:{click:function(n){return e.selectItem(t)}}},[n("div",{staticClass:"img-wrapper"},[n("img",{attrs:{src:t.cover,alt:""}}),n("span",{staticClass:"video-time"},[e._v(e._s(t.videoTime))])]),n("div",{staticClass:"info-wrapper"},[n("p",{staticClass:"text"},[e._v(e._s(e.winner(t.watching_team,t.winner))+" VS "+e._s(e.winner(t.other_team,t.winner)))]),n("p",{staticClass:"time"},[e._v(e._s(t.match_time))])])])}),0)])])])},K=[];function W(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n}function X(e){for(var t=1;t<arguments.length;t++)if(t%2){var n=null!=arguments[t]?arguments[t]:{};W(n,!0).forEach(function(t){Object(w["a"])(e,t,n[t])})}else Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(arguments[t])):W(n).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(arguments[t],n))});return e}var Y={data:function(){return{}},computed:X({},Object(B["c"])(["video","videoList","recommendList"])),created:function(){this.video.video?this.$refs.videoDetails.scrollTop=0:this.$router.push("/")},methods:X({winner:function(e,t){return e===t?"".concat(e,"(胜)"):e},back:function(){this.$router.push("/")},selectItem:function(e){this.setVideo(e),this.recommendListAction({list:this.videoList,currentVideo:e}),this.$refs.videoDetails.scrollTop=0}},Object(B["d"])({setVideo:"SET_VIDEO"}),{},Object(B["b"])(["recommendListAction"])),watch:{}},Z=Y,ee=(n("cd63"),Object(p["a"])(Z,H,K,!1,null,"20043d42",null)),te=ee.exports,ne=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"rank-wrapper",style:e.bgImage},[n("div",{staticClass:"search-wrapper"},[n("select",{domProps:{value:e.region},on:{change:e.regionItem}},e._l(e.regionList,function(t,r){return n("option",{key:t,domProps:{value:t}},[e._v(e._s(t))])}),0),n("select",{domProps:{value:e.pk_type_arr[e.pk_type-1]},on:{change:e.pkType}},[n("option",{attrs:{value:"排位赛"}},[e._v("排位赛")]),n("option",{attrs:{value:"进阶赛"}},[e._v("进阶赛")])]),n("div",{staticClass:"search"},[n("search-box",{ref:"search",on:{search:e.search,clear:e.clearInput}})],1)]),n("div",{staticClass:"rank-list"},[n("table",{staticClass:"rank-table"},[n("tbody",[e._m(0),e._l(e.rankList,function(t,r){return n("tr",{key:r+t.team_id},[n("td",[e._v(e._s(t.rank))]),n("td",[e._v(e._s(t.pk_region))]),n("td",[e._v(e._s(t.team_name))]),n("td",[e._v(e._s(t.score))]),n("td",[e._v(e._s(t.win_count))]),n("td",[e._v(e._s(t.win_total_time))])])})],2)]),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.query,expression:"!query"}],staticClass:"page"},[n("span",{on:{click:e.prev}},[e._v("上一页")]),n("span",{on:{click:e.next}},[e._v("下一页")])])])])},re=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("tr",[n("th",[e._v("排行")]),n("th",[e._v("赛区")]),n("th",[e._v("队伍名字")]),n("th",[e._v("积分")]),n("th",[e._v("胜场")]),n("th",[e._v("总耗时")])])}];n("386d");function ie(e){var t="https://xyqpk-2018.webapp.163.com/score",n=Object.assign({},C,{team_name:e&&e.team_name,page_no:e&&e.page||1,num_per_page:e&&e.num_per_page||20,pk_type:e&&e.pk_type||1,period:e&&e.period||"2018",pk_region:e&&e.region||"闽赣赛区"});return j(t,n,{callback:"jQuery1113014179370282749648_1562853957807"})}var oe=n("5e25"),ae=n.n(oe),se={data:function(){return{rankList:[],team_name:"",region:"浙江赛区",page_no:1,num_per_page:25,total_page:-1,pk_type:1,pk_type_arr:["排位赛","进阶赛"],query:"",regionList:["两广赛区","闽赣赛区","中西赛区","东北华北赛区","浙江赛区","山东赛区","豫皖赛区","苏沪赛区"]}},computed:{bgImage:function(){return"background-image:url(".concat(ae.a,")")}},created:function(){this._getRankList({region:this.region,num_per_page:this.num_per_page})},methods:{prev:function(){var e=--this.page_no;if(e<=this.total_page)return this._getRankList({page:e,region:this.region,num_per_page:this.num_per_page});this.page_no=1},next:function(){var e=++this.page_no;if(e<=this.total_page)return this._getRankList({page:e,region:this.region,num_per_page:this.num_per_page});this.page_no=this.total_page},search:function(e){this.query=e,this._getRankList({team_name:e,region:this.region,pk_type:this.pk_type,num_per_page:this.num_per_page})},clearInput:function(){this.query=""},regionItem:function(e){this.region=e.target.value,this.$refs.search.clearInput(),this._getRankList({region:e.target.value,pk_type:this.pk_type,num_per_page:this.num_per_page})},pkType:function(e){this.pk_type="排位赛"==e.target.value?1:2,console.log(e.target.value),this._getRankList({region:this.region,pk_type:this.pk_type,num_per_page:this.num_per_page,team_name:this.query})},_getRankList:function(e){var t=this;ie(e).then(function(e){e.success&&(t.rankList=e.data,-1===t.total_page&&(t.total_page=e.total_page))})}},components:{SearchBox:M}},ce=se,ue=(n("df86"),Object(p["a"])(ce,ne,re,!1,null,"bc74ef2a",null)),pe=ue.exports;o["a"].use(g["a"]);var le,de=new g["a"]({mode:"history",base:"/",routes:[{path:"/",redirect:"/video"},{path:"/video",component:G},{path:"/details",component:te},{path:"/rank",component:pe}]}),ve="SET_VIDEO",fe="SET_VIDEO_LIST",_e="SET_RECOMMEND_VIDEO_LIST",he=function(e,t){var n=e.commit,r=(e.state,t.list),i=t.currentVideo;n(_e,D(r,i))},me=function(e){return e.video},ge=function(e){return e.videoList},be=function(e){return e.recommendList},ye={video:{},videoList:[],recommendList:[]},we=ye,ke=(le={},Object(w["a"])(le,ve,function(e,t){e.video=t}),Object(w["a"])(le,fe,function(e,t){e.videoList=t}),Object(w["a"])(le,_e,function(e,t){e.recommendList=t}),le),Oe=ke,je=n("b054"),Le=n.n(je);o["a"].use(B["a"]);var Ce=!1,Ee=new B["a"].Store({actions:r,getters:i,state:we,mutations:Oe,strict:Ce,plugins:Ce?[Le()()]:[]}),xe=n("9483");Object(xe["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var Ie=n("fe3c"),Pe=n.n(Ie);n("39c8");o["a"].config.productionTip=!1,Pe.a.attach(document.body),new o["a"]({router:de,store:Ee,render:function(e){return e(m)}}).$mount("#app")},"5e25":function(e,t,n){e.exports=n.p+"img/rank.2b2d40a6.jpg"},"7e9d":function(e,t,n){"use strict";var r=n("165b"),i=n.n(r);i.a},c3da:function(e,t,n){},c558:function(e,t,n){},c57b:function(e,t,n){"use strict";var r=n("c558"),i=n.n(r);i.a},cbde:function(e,t,n){},cd63:function(e,t,n){"use strict";var r=n("cbde"),i=n.n(r);i.a},df86:function(e,t,n){"use strict";var r=n("0b0b"),i=n.n(r);i.a},fd7c:function(e,t,n){"use strict";var r=n("c3da"),i=n.n(r);i.a}});
//# sourceMappingURL=app.fdd5c481.js.map