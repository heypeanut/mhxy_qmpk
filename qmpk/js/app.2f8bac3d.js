(function(e){function t(t){for(var i,s,a=t[0],c=t[1],u=t[2],p=0,d=[];p<a.length;p++)s=a[p],o[s]&&d.push(o[s][0]),o[s]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(e[i]=c[i]);l&&l(t);while(d.length)d.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],i=!0,a=1;a<n.length;a++){var c=n[a];0!==o[c]&&(i=!1)}i&&(r.splice(t--,1),e=s(s.s=n[0]))}return e}var i={},o={app:0},r=[];function s(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=i,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)s.d(n,i,function(t){return e[t]}.bind(null,i));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=t,a=a.slice();for(var u=0;u<a.length;u++)t(a[u]);var l=c;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0b0b":function(e,t,n){},3036:function(e,t,n){},"366d":function(e,t,n){},"39c8":function(e,t,n){},"3d7c":function(e,t,n){"use strict";var i=n("3036"),o=n.n(i);o.a},"56d7":function(e,t,n){"use strict";n.r(t);var i={};n.r(i),n.d(i,"recommendListAction",function(){return Ye});var o={};n.r(o),n.d(o,"video",function(){return Fe}),n.d(o,"videoList",function(){return Qe}),n.d(o,"recommendList",function(){return Ue}),n.d(o,"analysis",function(){return ze});n("cadf"),n("551c"),n("f751"),n("097d");var r=n("2b0e"),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("keep-alive",[n("router-view")],1),n("bottom-bar")],1)},a=[],c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"bottom-bar"},[n("router-link",{staticClass:"tab-item",attrs:{tag:"div",to:"video"}},[n("i",{staticClass:"icon iconfont"},[e._v("")]),n("span",{staticClass:"name tab-link"},[e._v("视频")])]),n("router-link",{staticClass:"tab-item",attrs:{tag:"div",to:"rank"}},[n("i",{staticClass:"icon iconfont"},[e._v("")]),n("span",{staticClass:"name tab-link"},[e._v("排行")])]),n("router-link",{staticClass:"tab-item",attrs:{tag:"div",to:"analysis"}},[n("i",{staticClass:"icon iconfont"},[e._v("")]),n("span",{staticClass:"name tab-link"},[e._v("队伍分析")])])],1)},u=[],l=(n("f115"),n("2877")),p={},d=Object(l["a"])(p,c,u,!1,null,"a7d0cdfa",null),f=d.exports,h={components:{BottomBar:f}},v=h,g=Object(l["a"])(v,s,a,!1,null,null,null),m=g.exports,_=n("8c4f"),y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"video",staticClass:"video-wrapper"},[n("div",{staticClass:"header-bg"},[n("search-box",{on:{search:e.search,clear:e.clearInput}})],1),n("ul",{ref:"list",staticClass:"list-wrapper"},e._l(e.videoList,function(t,i){return n("li",{key:t.id,on:{click:function(n){return e.selectItem(t,i)}}},[n("div",{staticClass:"img-wrapper"},[n("img",{attrs:{src:t.cover,alt:""},on:{error:function(n){return e.imgError(i,t)}}}),n("span",{staticClass:"video-time"},[e._v(e._s(t.videoTime))])]),n("p",{staticClass:"text"},[e._v(e._s(e.winner(t.watching.team,t.winner))+" vs "+e._s(e.winner(t.other.team,t.winner)))]),n("p",{staticClass:"time"},[e._v(e._s(t.match_time))])])}),0),n("div",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],ref:"loading",staticClass:"loading"},[n("loading",{attrs:{text:e.loadingText}})],1)])},b=[],w=(n("8e6e"),n("456d"),n("ac6a"),n("bd86")),O=n("f2e8"),j=n.n(O);function k(e,t,n){return e+=(e.indexOf("?")<0?"?":"&")+x(t),new Promise(function(t,i){j()(e,n,function(e,n){e?i(e):t(n)})})}function x(e){var t="";for(var n in e){var i=void 0!==e[n]?e[n]:"";t+="&".concat(n,"=").concat(encodeURIComponent(i))}return t?t.substring(1):""}var L={_:1562655022974,category:5},C={callback:"jQuery111308220141366525135_1562655022973"};function S(e,t,n,i){var o="https://comp-sync.webapp.163.com/xyqvideo/sync_paged_list",r=Object.assign({},L,{team:e,subgroup:i,page:t||1,per_page:n||10});return i||delete r["subgroup"],k(o,r,C)}n("28a5"),n("a481");var E=n("d225"),P=function e(t){var n=t.id,i=t.category,o=t.watching,r=t.other,s=t.match_time,a=t.region,c=t.cover,u=t.video,l=t.winner,p=t.videoTime,d=t.videoId,f=t.subgroup;Object(E["a"])(this,e),this.id=n,this.category=i,this.watching=o,this.other=r,this.match_time=s,this.region=a,this.cover=c,this.video=u,this.winner=l,this.videoTime=p,this.videoId=d,this.subgroup=f},T=function(e){return new P({id:e.id,category:e.category,watching:q(e,1),other:q(e,2),match_time:e.match_time,region:e.region1||e.region2,cover:"http://xyq-video.v.netease.com/screenshot/pk/".concat(e.video,".jpg"),video:"http://xyq-video.v.netease.com/video/pk/".concat(e.video,".mp4"),winner:e.winner,videoTime:I(e.etc_info),videoId:e.video,subgroup:$[parseInt(e.subgroup)-1]})};function I(e){try{var t=JSON.parse(e);return t.videoTime?(t.videoTime/60).toFixed(2).replace(".",":"):""}catch(n){return""}}function q(e,t){try{var n=JSON.parse(e.etc_info),i=n["school"+String(t)]&&n["school"+String(t)].split("|"),o=[];return n["school"+String(t)]&&i.forEach(function(e){o.push(D[e-1])}),{team:e["team"+String(t)],school:o,_school:i,server:e["server"+String(t)]}}catch(r){return""}}var V=function(e){switch(e){case"大唐官府":return{school:e,group:["物理"],wg:1,fg:0,s:1,defense:0,avoid:0,fixed:0};case"化生寺":return{school:e,group:["辅助"],wg:0,fg:0,s:1,defense:1,avoid:0,fixed:0};case"女儿村":return{school:e,group:["封系"],wg:0,fg:0,s:1,defense:1,avoid:0,fixed:0};case"方寸山":return{school:e,group:["封系","法系"],wg:0,fg:0,s:1,defense:1,avoid:0,fixed:0};case"天宫":return{school:e,group:["法系","封系"],wg:0,fg:1,s:1,defense:0,avoid:0,fixed:0};case"普陀山":return{school:e,group:["辅助"],wg:0,fg:0,s:1,defense:1,avoid:0,fixed:0};case"龙宫":return{school:e,group:["法系"],wg:0,fg:1,s:0,defense:0,avoid:0,fixed:0};case"五庄观":return{school:e,group:["封系","物理"],wg:1,fg:0,s:1,defense:0,avoid:0,fixed:0};case"狮驼岭":return{school:e,group:["物理"],wg:1,fg:0,s:0,defense:0,avoid:0,fixed:0};case"魔王寨":return{school:e,group:["物理"],wg:0,fg:1,s:0,defense:0,avoid:0,fixed:0};case"阴曹地府":return{school:e,group:["辅助"],wg:0,fg:0,s:1,defense:1,avoid:0,fixed:0};case"盘丝洞":return{school:e,group:["封系"],wg:0,fg:0,s:1,defense:1,avoid:0,fixed:0};case"神木林":return{school:e,group:["法系"],wg:0,fg:1,s:0,defense:0,avoid:0,fixed:0};case"凌波城":return{school:e,group:["物理"],wg:1,fg:0,s:0,defense:0,avoid:0,fixed:0};case"无底洞":return{school:e,group:["辅助","封系"],wg:0,fg:0,s:1,defense:1,avoid:0,fixed:0};case"女魃墓":return{school:e,group:["法系"],wg:0,fg:1,s:0,defense:0,avoid:0,fixed:0};case"天机城":return{school:e,group:["物理","封系"],wg:1,fg:0,s:1,defense:0,avoid:0,fixed:0};case"花果山":return{school:e,group:["物理"],wg:1,fg:0,s:0,defense:0,avoid:0,fixed:0}}},D=["大唐官府","化生寺","女儿村","方寸山","天宫","普陀山","龙宫","五庄观","狮驼岭","魔王寨","阴曹地府","盘丝洞","神木林","凌波城","无底洞","女魃墓","天机城","花果山"],$=["排位赛","晋级赛","赛区赛","全国赛"];function A(e,t){var n=[];return e.map(function(e){e.id!==t.id&&n.push(e)}),n}function N(e,t){var n;return function(){for(var i=this,o=arguments.length,r=new Array(o),s=0;s<o;s++)r[s]=arguments[s];n&&clearTimeout(n),n=setTimeout(function(){e.apply(i,r)},t)}}var M=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"search-wrapper"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.query,expression:"query"}],ref:"query",attrs:{type:"text",placeholder:e.placeholder},domProps:{value:e.query},on:{input:function(t){t.target.composing||(e.query=t.target.value)}}}),n("i",{directives:[{name:"show",rawName:"v-show",value:e.query,expression:"query"}],staticClass:"iconfont icon",on:{click:e.clearInput}},[e._v("")])])},R=[],B={props:{placeholder:{type:String,default:"请输入队伍名"}},data:function(){return{query:""}},created:function(){var e=this;this.$watch("query",N(function(t){e.$emit("search",t)},500))},methods:{setQuery:function(e){this.query=e},clearInput:function(){this.query="",this.$emit("clear","")}}},H=B,J=(n("fd7c"),Object(l["a"])(H,M,R,!1,null,"1386c15f",null)),Y=J.exports,F=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"loading-wrapper"},[n("span",{staticClass:"text"},[e._v(e._s(e.text))]),n("i",{staticClass:"iconfont icon"},[e._v("")])])},Q=[],U={props:{text:{type:String,default:"加载中"}}},z=U,G=(n("7834"),Object(l["a"])(z,F,Q,!1,null,"56517386",null)),K=G.exports,W=n("2f62"),X=n("5118");function Z(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n}function ee(e){for(var t=1;t<arguments.length;t++)if(t%2){var n=null!=arguments[t]?arguments[t]:{};Z(n,!0).forEach(function(t){Object(w["a"])(e,t,n[t])})}else Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(arguments[t])):Z(n).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(arguments[t],n))});return e}var te={data:function(){return{videoList:[],team:"",page:1,per_page:10,total_num:0,subgroup:"4",loading:!0,loadingText:"加载中"}},computed:ee({},Object(W["c"])(["video"])),created:function(){this._getVideoList(this.team,this.page,this.per_page),Object(X["setTimeout"])(this.scroll,200)},methods:ee({selectItem:function(e,t){this.$router.push({path:"/details"}),this.setVideo(e),console.log(this.videoList.slice(0,10)),this.recommendListAction({list:this.videoList.slice(0,10),currentVideo:e})},winner:function(e,t){return e===t?"".concat(e,"(胜)"):e},imgError:function(e,t){var n=this.videoList;n.splice(e,1),this.setVideoList(n),this.recommendListAction({list:this.videoList.slice(0,10),currentVideo:t})},search:function(e){this.team=e,this.page=1,this.total_num=0,this.videoList=[],this._getVideoList(e)},clearInput:function(){this.query=""},scroll:function(){var e=this;window.onscroll=function(){var t=document.documentElement.scrollTop||document.body.scrollTop,n=document.documentElement.clientHeight||document.body.clientHeight,i=document.documentElement.scrollHeight||document.body.scrollHeight;t+n==i&&(Math.ceil(e.total_num/e.per_page)>=e.page?(N(e._getVideoList(e.team,++e.page,e.per_page,e.subgroup),500),e.$refs.loading.style.opacity=1,e.loading=!0,e.loadingText="加载中"):(e.loadingText="没有了",Object(X["clearTimeout"])(e.timer),e.timer=Object(X["setTimeout"])(function(){e.loading=!1,e.$refs.loading.style.transform="translateY(-30px)",e.$refs.loading.style.opacity=0,e.$refs.video.style.marginBottom="30px"},1e3)))}},_getVideoList:function(e,t,n,i){var o=this;S(e,t,n,i).then(function(e){e.status?(o.total_num=e.total_num,o.videoList=o.videoList.concat(o._normalVideos(e.data)),o.setVideoList(o.videoList)):o.loadingText="加载失败"})},_normalVideos:function(e){var t=[];return e.forEach(function(e){e.etc_info&&e.video&&t.push(T(e))}),t}},Object(W["d"])({setVideo:"SET_VIDEO",setVideoList:"SET_VIDEO_LIST",setRecommendList:"SET_RECOMMEND_VIDEO_LIST"}),{},Object(W["b"])(["recommendListAction"])),components:{SearchBox:Y,Loading:K}},ne=te,ie=(n("8287"),Object(l["a"])(ne,y,b,!1,null,"1a1ded50",null)),oe=ie.exports,re=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"slide"}},[n("div",{ref:"videoDetails",staticClass:"details-wrapper",on:{click:function(e){e.stopPropagation()}}},[n("div",{staticClass:"video-wrapper"},[n("span",{staticClass:"back",on:{click:function(t){return t.stopPropagation(),e.back(t)}}}),n("video",{attrs:{src:e.video.video,autoplay:"",controls:"","webkit-playsinline":"true",playsinline:"true"}}),n("div",{staticClass:"video-info"},[n("h3",[e._v(e._s(e.winner(e.video.watching.team,e.video.winner))+" VS "+e._s(e.winner(e.video.other.team,e.video.winner)))]),n("p",{staticClass:"text"},[e._v("比赛时间："+e._s(e.video.match_time))])])]),n("div",{staticClass:"recommend",on:{click:function(e){e.stopPropagation()}}},[n("h4",{staticClass:"title"},[e._v("视频推荐")]),n("ul",e._l(e.recommendList,function(t){return n("li",{key:t.id,on:{click:function(n){return e.selectItem(t)}}},[n("div",{staticClass:"img-wrapper"},[n("img",{attrs:{src:t.cover,alt:""}}),n("span",{staticClass:"video-time"},[e._v(e._s(t.videoTime))])]),n("div",{staticClass:"info-wrapper"},[n("p",{staticClass:"text"},[e._v(e._s(e.winner(t.watching.team,t.winner))+" VS "+e._s(e.winner(t.other.team,t.winner)))]),n("p",{staticClass:"time"},[e._v(e._s(t.match_time))])])])}),0)])])])},se=[];function ae(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n}function ce(e){for(var t=1;t<arguments.length;t++)if(t%2){var n=null!=arguments[t]?arguments[t]:{};ae(n,!0).forEach(function(t){Object(w["a"])(e,t,n[t])})}else Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(arguments[t])):ae(n).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(arguments[t],n))});return e}var ue={data:function(){return{}},computed:ce({},Object(W["c"])(["video","videoList","recommendList"])),created:function(){this.video.video?this.$refs.videoDetails.scrollTop=0:this.$router.push("/")},methods:ce({winner:function(e,t){return e===t?"".concat(e,"(胜)"):e},back:function(){this.$router.push("/")},selectItem:function(e){this.setVideo(e),this.recommendListAction({list:this.videoList,currentVideo:e}),this.$refs.videoDetails.scrollTop=0}},Object(W["d"])({setVideo:"SET_VIDEO"}),{},Object(W["b"])(["recommendListAction"])),watch:{}},le=ue,pe=(n("924c"),Object(l["a"])(le,re,se,!1,null,"6ce84142",null)),de=pe.exports,fe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"rank-wrapper",style:e.bgImage},[n("div",{staticClass:"search-wrapper"},[n("select",{domProps:{value:e.region},on:{change:e.regionItem}},e._l(e.regionList,function(t,i){return n("option",{key:t,domProps:{value:t}},[e._v(e._s(t))])}),0),n("select",{domProps:{value:e.pk_type_arr[e.pk_type-1]},on:{change:e.pkType}},[n("option",{attrs:{value:"排位赛"}},[e._v("排位赛")]),n("option",{attrs:{value:"进阶赛"}},[e._v("进阶赛")])]),n("div",{staticClass:"search"},[n("search-box",{ref:"search",on:{search:e.search,clear:e.clearInput}})],1)]),n("div",{staticClass:"rank-list"},[n("table",{staticClass:"rank-table"},[n("tbody",[e._m(0),e._l(e.rankList,function(t,i){return n("tr",{key:i+t.team_id},[n("td",[e._v(e._s(t.rank))]),n("td",[e._v(e._s(t.pk_region))]),n("td",[e._v(e._s(t.team_name))]),n("td",[e._v(e._s(t.score))]),n("td",[e._v(e._s(t.win_count))]),n("td",[e._v(e._s(t.win_total_time))])])})],2)]),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.query,expression:"!query"}],staticClass:"page"},[n("span",{on:{click:e.prev}},[e._v("上一页")]),n("span",{on:{click:e.next}},[e._v("下一页")])])])])},he=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("tr",[n("th",[e._v("排行")]),n("th",[e._v("赛区")]),n("th",[e._v("队伍名字")]),n("th",[e._v("积分")]),n("th",[e._v("胜场")]),n("th",[e._v("总耗时")])])}];n("386d");function ve(e){var t="https://xyqpk-2018.webapp.163.com/score",n=Object.assign({},L,{team_name:e&&e.team_name,page_no:e&&e.page||1,num_per_page:e&&e.num_per_page||20,pk_type:e&&e.pk_type||1,period:e&&e.period||"2018",pk_region:e&&e.region||"闽赣赛区"});return k(t,n,{callback:"jQuery1113014179370282749648_1562853957807"})}var ge=n("5e25"),me=n.n(ge),_e={data:function(){return{rankList:[],team_name:"",region:"浙江赛区",page_no:1,num_per_page:25,total_page:-1,pk_type:1,pk_type_arr:["排位赛","进阶赛"],query:"",regionList:["两广赛区","闽赣赛区","中西赛区","东北华北赛区","浙江赛区","山东赛区","豫皖赛区","苏沪赛区"]}},computed:{bgImage:function(){return"background-image:url(".concat(me.a,")")}},created:function(){this._getRankList({region:this.region,num_per_page:this.num_per_page})},methods:{prev:function(){var e=--this.page_no;if(e<=this.total_page)return this._getRankList({page:e,region:this.region,num_per_page:this.num_per_page});this.page_no=1},next:function(){var e=++this.page_no;if(e<=this.total_page)return this._getRankList({page:e,region:this.region,num_per_page:this.num_per_page});this.page_no=this.total_page},search:function(e){this.query=e,this._getRankList({team_name:e,region:this.region,pk_type:this.pk_type,num_per_page:this.num_per_page})},clearInput:function(){this.query=""},regionItem:function(e){this.region=e.target.value,this.$refs.search.clearInput(),this._getRankList({region:e.target.value,pk_type:this.pk_type,num_per_page:this.num_per_page})},pkType:function(e){this.pk_type="排位赛"==e.target.value?1:2,console.log(e.target.value),this._getRankList({region:this.region,pk_type:this.pk_type,num_per_page:this.num_per_page,team_name:this.query})},_getRankList:function(e){var t=this;ve(e).then(function(e){e.success&&(t.rankList=e.data,-1===t.total_page&&(t.total_page=e.total_page))})}},components:{SearchBox:Y}},ye=_e,be=(n("df86"),Object(l["a"])(ye,fe,he,!1,null,"bc74ef2a",null)),we=be.exports,Oe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"analysis"},[n("h2",[e._v("队伍信息查询")]),n("div",{staticClass:"search"},[n("search",{attrs:{placeholder:"请输入需要分析的队伍全名"},on:{search:e.search}})],1),n("button",{attrs:{disabled:e.query.length<1},on:{click:e.clickTeam}},[e._v("点击分析")])])},je=[];function ke(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n}function xe(e){for(var t=1;t<arguments.length;t++)if(t%2){var n=null!=arguments[t]?arguments[t]:{};ke(n,!0).forEach(function(t){Object(w["a"])(e,t,n[t])})}else Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(arguments[t])):ke(n).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(arguments[t],n))});return e}var Le={data:function(){return{query:"",page:1,per_page:20}},methods:xe({search:function(e){this.query=e},clickTeam:function(){var e=this,t=this.query;this._getVideoList(t).then(function(n){e.query=t,e.setAnalysisList(n),console.log(n),e.$router.push({path:"/analysis-details/".concat(t)})}).catch(function(n){e.query=t,alert("搜索失败！")}),this.query=""},_getVideoList:function(e){var t=this;return new Promise(function(n,i){S(e,t.page,t.per_page).then(function(e){if(e.status&e.data.length>0){var o=t._normalVideos(e.data);n(o)}else i("搜索结果失败")})})},_normalVideos:function(e){var t=[];return e.forEach(function(e){e.etc_info&&e.video&&t.push(T(e))}),t}},Object(W["d"])({setAnalysisList:"SET_ANALYSIS_LIST"})),components:{search:Y}},Ce=Le,Se=(n("9adb"),Object(l["a"])(Ce,Oe,je,!1,null,"64c12b2c",null)),Ee=Se.exports,Pe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"analysis"},[n("div",{staticClass:"header"},[n("div",{staticClass:"title"},[n("h2",[e._v(e._s(e.details.name))]),n("p",[e._v("队伍综合数据如下")])]),n("div",{staticClass:"round"},[n("p",[e._v("综合胜率")]),n("p",[e._v(e._s(e.details.odds))])])]),n("div",{staticClass:"team"},[n("h3",[e._v("门派信息")]),n("div",[n("ul",e._l(e.details.playSchool,function(t,i){return n("li",{key:i+t},[n("div",{staticClass:"img"},[n("img",{attrs:{src:t.ava,alt:""}})]),n("p",[e._v(e._s(t.school))])])}),0)])]),n("div",{staticClass:"team"},[n("h3",[e._v("全部阵容")]),e._l(e.details.most_team,function(t,i){return n("div",{key:i},[n("ul",e._l(t.school,function(t,i){return n("li",{key:i+t},[n("div",{staticClass:"img"},[n("img",{attrs:{src:t.ava,alt:""}})]),n("p",[e._v(e._s(t.school))])])}),0),n("div",{staticClass:"wins"},[n("p",[e._v("上场："+e._s(t.num)+" 次")]),n("p",[e._v("胜场："+e._s(t.winner)+" 次")]),n("p",[e._v("胜率："+e._s(Math.round(t.winner/t.num*100))+"%")])])])})],2)])},Te=[];n("55dd"),n("6762"),n("2fdb"),n("7f7f");function Ie(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n}function qe(e){for(var t=1;t<arguments.length;t++)if(t%2){var n=null!=arguments[t]?arguments[t]:{};Ie(n,!0).forEach(function(t){Object(w["a"])(e,t,n[t])})}else Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(arguments[t])):Ie(n).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(arguments[t],n))});return e}var Ve={data:function(){return{details:{name:"",odds:0}}},activated:function(){var e=this.$route.params.name;this.analysis.length&&e?(this.details.name=e,this.calculate()):this.$router.push("/analysis")},beforeDestroy:function(){console.log("销毁了"),this.setAnalysisList([])},computed:qe({},Object(W["c"])(["analysis"])),methods:qe({calculate:function(){var e=this.analysis.slice(),t=this.details.name,n=0,i=[],o=!0;e.forEach(function(e){e.winner.includes(t)&&(n=++n),o=e.region.includes(2018)||e.region.includes(2019),e.other.team.includes(t)&&o&&i.push({team:e.other,winner:e.winner}),e.watching.team.includes(t)&&o&&i.push({team:e.watching,winner:e.winner})}),this.details={odds:Math.round(n/e.length*100)+"%",name:t,playSchool:this._normalPlaySchool(i.slice()),most_team:this._normalMostTeam(i.slice())},console.log(this.details)},_normalPlaySchool:function(e){var t=[];e.map(function(e){e.team["school"].forEach(function(e){t[e]&&t[e]["school"]===e?t[e]={school:e,ava:"http://img.nnh206.vip/".concat(e,".png"),num:++t[e].num}:t[e]={school:e,ava:"http://img.nnh206.vip/".concat(e,".png"),num:1}})});var n=[];for(var i in t)n.push(t[i]);return n},_normalMostTeam:function(e){var t=this,n=e,i=[],o={};n.forEach(function(e){var t=e.team["_school"]instanceof Array?e.team["_school"].slice():[];i.push({original:e.team._school,school:t.sort(function(e,t){return e-t}),winner:e.winner})}),i.forEach(function(e){o[e.school.join()]&&o[e.school.join()]._school===e.school.join()&&0!==e.school.length?o[e.school.join()]={_school:e.school.join(),num:++o[e.school.join()].num,winner:e.winner.includes(t.details.name)?++o[e.school].winner:o[e.school].winner,original:e.original,tactical:t._tactical(e.original),school:function(){var t=e.school,n=[];return t.map(function(e){n.push({school:D[e-1],ava:"http://img.nnh206.vip/".concat(D[e-1],".png")})}),n}()}:0!==e.school.length&&(o[e.school.join()]={_school:e.school.join(),school:function(){var t=e.school,n=[];return t.map(function(e){n.push({school:D[e-1],ava:"http://img.nnh206.vip/".concat(D[e-1],".png")})}),n}(),num:1,original:e.original,winner:e.winner.includes(t.details.name)?1:0})});var r=[];for(var s in o)r.push(o[s]);return r.sort(function(e,t){return e.num-t.num}),r.reverse()},_tactical:function(e){var t=[];return console.log(e),e.map(function(e){t.push(V(D[e-1]))}),t}},Object(W["d"])({setAnalysisList:"SET_ANALYSIS_LIST"}))},De=Ve,$e=(n("3d7c"),Object(l["a"])(De,Pe,Te,!1,null,"788d7e3a",null)),Ae=$e.exports;r["a"].use(_["a"]);var Ne,Me=new _["a"]({mode:"history",base:"/",routes:[{path:"/",redirect:"/video"},{path:"/video",component:oe},{path:"/details",component:de},{path:"/rank",component:we},{path:"/analysis",component:Ee},{path:"/analysis-details/:name",component:Ae}]}),Re="SET_VIDEO",Be="SET_VIDEO_LIST",He="SET_RECOMMEND_VIDEO_LIST",Je="SET_ANALYSIS_LIST",Ye=function(e,t){var n=e.commit,i=(e.state,t.list),o=t.currentVideo;n(He,A(i,o))},Fe=function(e){return e.video},Qe=function(e){return e.videoList},Ue=function(e){return e.recommendList},ze=function(e){return e.analysis},Ge={video:{},videoList:[],recommendList:[],analysis:[]},Ke=Ge,We=(Ne={},Object(w["a"])(Ne,Re,function(e,t){e.video=t}),Object(w["a"])(Ne,Be,function(e,t){e.videoList=t}),Object(w["a"])(Ne,He,function(e,t){e.recommendList=t}),Object(w["a"])(Ne,Je,function(e,t){e.analysis=t}),Ne),Xe=We,Ze=n("b054"),et=n.n(Ze);r["a"].use(W["a"]);var tt=!1,nt=new W["a"].Store({actions:i,getters:o,state:Ke,mutations:Xe,strict:tt,plugins:tt?[et()()]:[]}),it=n("9483");Object(it["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var ot=n("fe3c"),rt=n.n(ot);n("39c8");r["a"].config.productionTip=!1,rt.a.attach(document.body),new r["a"]({router:Me,store:nt,render:function(e){return e(m)}}).$mount("#app")},"5e25":function(e,t,n){e.exports=n.p+"img/rank.2b2d40a6.jpg"},7834:function(e,t,n){"use strict";var i=n("366d"),o=n.n(i);o.a},"78e9":function(e,t,n){},"7d30":function(e,t,n){},8287:function(e,t,n){"use strict";var i=n("b5d1"),o=n.n(i);o.a},"924c":function(e,t,n){"use strict";var i=n("7d30"),o=n.n(i);o.a},"9adb":function(e,t,n){"use strict";var i=n("78e9"),o=n.n(i);o.a},b5d1:function(e,t,n){},c3da:function(e,t,n){},c979:function(e,t,n){},df86:function(e,t,n){"use strict";var i=n("0b0b"),o=n.n(i);o.a},f115:function(e,t,n){"use strict";var i=n("c979"),o=n.n(i);o.a},fd7c:function(e,t,n){"use strict";var i=n("c3da"),o=n.n(i);o.a}});
//# sourceMappingURL=app.2f8bac3d.js.map